
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>HeyGen SDK Avatar</title>

  <!-- âœ… Load HeyGen SDK -->
  <script src="https://unpkg.com/@heygen/streaming-avatar@latest/dist/index.umd.js"></script>
</head>
<body>
  <button onclick="startSession()">Start Speaking</button>
  <div id="avatar-container" style="width: 400px; height: 400px; border: 1px solid #ccc;"></div>

  <script>
    const token = 'NTg1MTQ0YzY1MTViNDM4YWEwNzEwODQwZWI0MjQzMDktMTc0NTk1MDc0OQ=='; // Replace with your real token

    let avatar;

    async function startSession() {
      if (typeof window.StreamingAvatar === 'undefined') {
        console.error("StreamingAvatar SDK not loaded!");
        return;
      }

      if (!avatar) {
        avatar = new window.StreamingAvatar({
          token: token,
          container: document.getElementById('avatar-container'),
        });
      }

      const session = await avatar.createStartAvatar({
        avatarName: 'Judy_Doctor_Standing2_public', // Replace with your avatar name
        quality: 'high'
      });

      await avatar.speak({
        sessionId: session.session_id,
        text: 'Hello from Wix!',
        task_type: 'REPEAT'
      });
    }
  </script>
</body>
</html>
